(function(t){function e(e){for(var i,a,s=e[0],r=e[1],l=e[2],d=0,b=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&b.push(o[a][0]),o[a]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(b.length)b.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],i=!0,s=1;s<n.length;s++){var r=n[s];0!==o[r]&&(i=!1)}i&&(c.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={app:0},c=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=r;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"01d4":function(t,e,n){"use strict";n("c62e")},3115:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"h3[data-v-3d9e438a]{cursor:help}h3[data-v-3d9e438a]:hover{background-color:#add8e6}.text[data-v-3d9e438a]{font-size:18px;font-weight:700}.underline[data-v-3d9e438a]{background-color:rgba(0,0,0,.3);width:100%;height:2px;margin:.2rem 0}.coin[data-v-3d9e438a],.font-bold[data-v-3d9e438a]{font-weight:700}.coin[data-v-3d9e438a]{border:2px solid #000;border-radius:10px;padding:.5rem;cursor:pointer;background-color:#fff;margin:.5rem .1rem}.coin[data-v-3d9e438a]:hover{background-color:#add8e6}.coin[data-v-3d9e438a]:active{background-color:#8a8aff}",""]),t.exports=e},"81db":function(t,e,n){var i=n("3115");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("499e").default;o("77d16e1a",i,!0,{sourceMap:!1,shadowMode:!1})},a854:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'.donate[data-v-113a3c7a]{bottom:0;width:100%;text-align:center;margin-top:10rem;background-color:#e7e7e7;padding:.3rem 0}.donate-bar[data-v-113a3c7a]{font-weight:700;font-size:16px}.donate-buttons[data-v-113a3c7a]{margin-top:.5rem}.donate-text[data-v-113a3c7a],button[data-v-113a3c7a]{font-weight:700}button[data-v-113a3c7a]{border:none;background-color:#7dff7d;font-size:14px;border-radius:10px;padding:.3rem .5rem;margin:.2rem .2rem;transition-duration:.2s;transition-property:"backgroun-color";transition-timing-function:linear}button[data-v-113a3c7a]:hover{background-color:#06e906}button[data-v-113a3c7a]:active{background-color:#0a0}',""]),t.exports=e},c62e:function(t,e,n){var i=n("a854");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("499e").default;o("052324ab",i,!0,{sourceMap:!1,shadowMode:!1})},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),o=function(t){return Object(i["l"])("data-v-3d9e438a"),t=t(),Object(i["j"])(),t},c={class:"container-fluid mt-4"},a={class:"row justify-content-center"},s={class:"col-xl-4 col-lg-4 col-6"},r={class:"col-xl-4 col-lg-4 col-6"},l={class:"d-flex justify-content-center"},u={class:"row justify-content-center"},d={class:"col-12"},b=["onClick"],h=o((function(){return Object(i["d"])("div",{class:"underline"},null,-1)})),p={class:"row justify-content-center mt-2"},f={class:"col-xl-2 col-lg-3 col-6 text-center mt-2"},v=o((function(){return Object(i["d"])("h3",{title:"總倉位計算後與現價比較，得知目前的盈虧比"},"盈虧(百分比)",-1)})),O={class:"col-xl-2 col-lg-3 col-6 text-center mt-2"},j=o((function(){return Object(i["d"])("h3",{title:"總倉位計算後與現價比較，得知目前的盈虧金額"},"盈虧",-1)})),g={class:"col-xl-2 col-lg-3 col-6 text-center mt-2"},y=o((function(){return Object(i["d"])("h3",{title:"花了多少金額買進所有倉位"},"總成本",-1)})),C={class:"text"},x={class:"col-xl-2 col-lg-3 col-6 text-center mt-2"},m=o((function(){return Object(i["d"])("h3",{title:"總倉位計算後，如果要一次賣出所有倉位，需要高於這個價格才不會產生虧損(預估會再高於0.5%)"},"平倉目標價",-1)})),k={class:"text"},P={class:"col-xl-2 col-lg-3 col-6 text-center mt-2"},_=o((function(){return Object(i["d"])("h3",{title:"指定交易對的目前價格"},"最新價格",-1)})),T={class:"text"},S={class:"row mt-2"},w={class:"col-12"},U={class:"table table-striped table-sm table-bordered table-hover table-responsive"},E=o((function(){return Object(i["d"])("thead",{class:"thead-default"},[Object(i["d"])("tr",null,[Object(i["d"])("th",null,"價格"),Object(i["d"])("th",null,"數量"),Object(i["d"])("th",null,"手續費"),Object(i["d"])("th",null,"成本"),Object(i["d"])("th",null,"盈虧"),Object(i["d"])("th",null,"動作")])],-1)})),B=["onUpdate:modelValue"],M=["onUpdate:modelValue"],L=["onUpdate:modelValue"],D=["onClick"],I={class:"d-grid gap-2 mt-2"},A=Object(i["e"])('<div class="row mt-2" data-v-3d9e438a><div class="col-12 text-center" data-v-3d9e438a><div class="font-bold text-danger" data-v-3d9e438a>(請注意，本程式僅供用於參考計算，不代表任何交易立場或動作，如產生買賣之虧損情況，皆與本程式無關)</div><div class="font-bold text-danger" data-v-3d9e438a>(切換貨幣時，需等待價格回傳後才會計算，故停頓幾秒無資料是正常的)</div><div class="font-bold" data-v-3d9e438a>(資料來源: Binance)</div></div></div>',1);function J(t,e,n,o,J,N){var F=Object(i["o"])("Donate");return Object(i["i"])(),Object(i["c"])(i["a"],null,[Object(i["d"])("div",c,[Object(i["d"])("div",a,[Object(i["d"])("div",s,[Object(i["r"])(Object(i["d"])("input",{class:"form-control",type:"text",placeholder:"交易對，BTCUSDT，大小寫皆可","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.inputTradeCoin=e})},null,512),[[i["q"],t.inputTradeCoin]])]),Object(i["d"])("div",r,[Object(i["d"])("div",l,[Object(i["d"])("button",{type:"button",class:"btn btn-success",style:{width:"40%"},onClick:e[1]||(e[1]=function(e){return t.addCoin()})},"新增"),Object(i["d"])("button",{type:"button",class:"btn btn-danger ms-1",style:{width:"40%"},onClick:e[2]||(e[2]=function(e){return t.removeCoin()})},"刪除")])])]),Object(i["d"])("div",u,[Object(i["d"])("div",d,[(Object(i["i"])(!0),Object(i["c"])(i["a"],null,Object(i["n"])(t.coins,(function(e,n){return Object(i["i"])(),Object(i["c"])("button",{class:"coin",key:n,onClick:function(n){return t.coinSelected(e)}},Object(i["p"])(e),9,b)})),128))])]),h,Object(i["d"])("div",p,[Object(i["d"])("div",f,[v,Object(i["d"])("div",{class:Object(i["h"])(["text",[t.isPOL?"text-success":"text-danger"]])},Object(i["p"])(t.palPercentText),3)]),Object(i["d"])("div",O,[j,Object(i["d"])("div",{class:Object(i["h"])(["text",[t.isPOL?"text-success":"text-danger"]])},Object(i["p"])(t.palPriceText),3)]),Object(i["d"])("div",g,[y,Object(i["d"])("div",C,Object(i["p"])(t.totalCostText),1)]),Object(i["d"])("div",x,[m,Object(i["d"])("div",k,Object(i["p"])(t.sellTargetPrice),1)]),Object(i["d"])("div",P,[_,Object(i["d"])("div",T,Object(i["p"])(t.currentPrice),1)])]),Object(i["d"])("div",S,[Object(i["d"])("div",w,[Object(i["d"])("table",U,[E,Object(i["d"])("tbody",null,[(Object(i["i"])(!0),Object(i["c"])(i["a"],null,Object(i["n"])(t.positionContainer.positions,(function(n,o){return Object(i["i"])(),Object(i["c"])("tr",{key:o},[Object(i["d"])("td",null,[Object(i["r"])(Object(i["d"])("input",{class:"form-control",type:"number","onUpdate:modelValue":function(t){return n.price=t},onInput:e[3]||(e[3]=function(e){t.calcAll(),t.savePositions()})},null,40,B),[[i["q"],n.price]])]),Object(i["d"])("td",null,[Object(i["r"])(Object(i["d"])("input",{class:"form-control",type:"number","onUpdate:modelValue":function(t){return n.count=t},onInput:e[4]||(e[4]=function(e){t.calcAll(),t.savePositions()})},null,40,M),[[i["q"],n.count]])]),Object(i["d"])("td",null,[Object(i["r"])(Object(i["d"])("input",{class:"form-control",type:"number","onUpdate:modelValue":function(t){return n.fee=t},onInput:e[5]||(e[5]=function(e){t.calcAll(),t.savePositions()})},null,40,L),[[i["q"],n.fee]])]),Object(i["d"])("td",null,Object(i["p"])(n.costText),1),Object(i["d"])("td",null,[Object(i["d"])("span",{class:Object(i["h"])(["font-bold",[n.isPOL?"text-success":"text-danger"]])},Object(i["p"])(n.palText),3)]),Object(i["d"])("td",null,[Object(i["d"])("button",{type:"button",class:"btn btn-danger",onClick:function(e){return t.removePosition(o)}},"刪除",8,D)])])})),128))])]),Object(i["d"])("div",I,[Object(i["d"])("button",{type:"button",class:"btn btn-primary btn-sm",onClick:e[6]||(e[6]=function(e){return t.addPosition()})},"新增")])])]),A]),Object(i["g"])(F)],64)}var N=n("d4ec"),F=n("bee2"),K=n("262e"),V=n("2caf"),R=(n("b680"),n("e9c4"),n("a434"),n("d3b7"),n("159b"),n("9ab4")),q=n("a1e9"),z=n("ce1f"),W=function(){function t(e,n){Object(N["a"])(this,t),this._price=e,this._coin=n}return Object(F["a"])(t,[{key:"price",get:function(){return this._price}},{key:"coin",get:function(){return this._coin}}]),t}(),G=function(){function t(){var e=this;Object(N["a"])(this,t),this._socket=new WebSocket("wss://stream.binance.com:9443/ws"),this._socket.onmessage=function(t){var n=JSON.parse(t.data);e.onMessage(new W(n.p,n.s))}}return Object(F["a"])(t,[{key:"subscribe",value:function(t){var e={method:"SUBSCRIBE"};e["params"]=[t.toLowerCase()+"@trade"],e["id"]=1;var n=JSON.stringify(e);this._socket.send(n)}},{key:"unSubscribe",value:function(t){var e={method:"UNSUBSCRIBE"};e["params"]=[t.toLowerCase()+"@trade"],e["id"]=312;var n=JSON.stringify(e);this._socket.send(n)}},{key:"onMessage",value:function(t){this._z=1}}]),t}(),H=function(t){return Object(i["l"])("data-v-113a3c7a"),t=t(),Object(i["j"])(),t},Q={class:"donate"},X=H((function(){return Object(i["d"])("div",{class:"donate-bar"},"如果對你很實用的話，可以考慮支持本程式",-1)})),Y={class:"donate-buttons"},Z=Object(i["f"])("USDT - TRC20"),$=H((function(){return Object(i["d"])("br",null,null,-1)})),tt=Object(i["f"])("Exchange"),et=[Z,$,tt],nt=Object(i["f"])("USDT - BEP20"),it=H((function(){return Object(i["d"])("br",null,null,-1)})),ot=Object(i["f"])("Exchange"),ct=[nt,it,ot],at=Object(i["f"])("BUSD - BEP20"),st=H((function(){return Object(i["d"])("br",null,null,-1)})),rt=Object(i["f"])("Exchange"),lt=[at,st,rt],ut={class:"donate-text"};function dt(t,e,n,o,c,a){return Object(i["i"])(),Object(i["c"])("div",Q,[X,Object(i["d"])("div",Y,[Object(i["d"])("button",{onClick:e[0]||(e[0]=function(e){return t.btnUSDT_TRC20()})},et),Object(i["d"])("button",{onClick:e[1]||(e[1]=function(e){return t.btnUSDT_BEP20()})},ct),Object(i["d"])("button",{onClick:e[2]||(e[2]=function(e){return t.btnBUSD_BEP20()})},lt)]),Object(i["d"])("div",ut,Object(i["p"])(t.hashKey),1)])}var bt=function(t){Object(K["a"])(n,t);var e=Object(V["a"])(n);function n(){var t;return Object(N["a"])(this,n),t=e.apply(this,arguments),t.hashKey=Object(q["l"])(null),t}return Object(F["a"])(n,[{key:"created",value:function(){this.hashKey=""}},{key:"btnUSDT_TRC20",value:function(){this.hashKey="TEa3v8bBz8kRW6arq4LjrEpfywMKpyUPP8"}},{key:"btnUSDT_BEP20",value:function(){this.hashKey="0x293a3c7aeadb14b93b73d7ffd40343b0081cd16a"}},{key:"btnBUSD_BEP20",value:function(){this.hashKey="0x293a3c7aeadb14b93b73d7ffd40343b0081cd16a"}}]),n}(z["b"]),ht=(n("01d4"),n("6b0d")),pt=n.n(ht);const ft=pt()(bt,[["render",dt],["__scopeId","data-v-113a3c7a"]]);var vt=ft,Ot=function(t){Object(K["a"])(n,t);var e=Object(V["a"])(n);function n(){var t;return Object(N["a"])(this,n),t=e.apply(this,arguments),t.positionContainer=Object(q["l"])(null),t.inputTradeCoin=Object(q["l"])(null),t.coins=Object(q["l"])(null),t.currentCoin=Object(q["l"])(null),t.totalCostText=Object(q["l"])(null),t.palPrice=Object(q["l"])(null),t.palPriceText=Object(q["l"])(null),t.palPercentText=Object(q["l"])(null),t.isPOL=Object(q["l"])(null),t.sellTargetPrice=Object(q["l"])(null),t.currentPrice=Object(q["l"])(null),t}return Object(F["a"])(n,[{key:"created",value:function(){this.positionContainer=new gt,this.totalCostText="0",this.palPrice=0,this.palPriceText="0.0000",this.palPercentText="0.00%",this.sellTargetPrice="0",this.inputTradeCoin="",this.currentPrice=0,this.currentCoin="",this.isPOL=!1,this.coins=[]}},{key:"mounted",value:function(){this.loadCoins(),this.binanceSocket=new G,this.binanceSocket.onMessage=this.onMessage}},{key:"onMessage",value:function(t){this.currentPrice=parseFloat(t.price),this.calcAll()}},{key:"coinSelected",value:function(t){var e;0!==(null===(e=this.currentCoin)||void 0===e?void 0:e.length)&&this.binanceSocket.unSubscribe(this.currentCoin),this.binanceSocket.subscribe(t),this.currentCoin=t,this.loadPositions(),this.calcAll()}},{key:"calcAll",value:function(){var t,e;null===(t=this.positionContainer)||void 0===t||t.calcPALOfPos(this.currentPrice),this.totalCostText=null===(e=this.positionContainer)||void 0===e?void 0:e.totalCost.toFixed(4);var n=this.positionContainer.totalCount*this.currentPrice;n>this.positionContainer.totalCost?this.isPOL=!0:this.isPOL=!1,this.palPrice=n-this.positionContainer.totalCost,this.palPriceText=this.palPrice.toFixed(4),this.palPercentText=(n/this.positionContainer.totalCost-1).toFixed(4)+"%",this.sellTargetPrice=(this.positionContainer.totalCost/this.positionContainer.totalCount*1.005).toFixed(4)+"(+0.5%)"}},{key:"addCoin",value:function(){var t;this.inputTradeCoin=null===(t=this.inputTradeCoin)||void 0===t?void 0:t.toUpperCase(),this.coinExists(this.inputTradeCoin)||(this.coins.push(this.inputTradeCoin),this.saveCoins(),this.inputTradeCoin="")}},{key:"saveCoins",value:function(){localStorage.setItem("coins",JSON.stringify(this.coins))}},{key:"loadCoins",value:function(){var t=localStorage.getItem("coins");t&&(this.coins=JSON.parse(t))}},{key:"removeCoin",value:function(){var t;if(this.inputTradeCoin=null===(t=this.inputTradeCoin)||void 0===t?void 0:t.toUpperCase(),this.coinExists(this.inputTradeCoin)){for(var e=0;e<this.coins.length;e++)if(this.coins[e]===this.inputTradeCoin){this.coins.splice(e,1);break}this.saveCoins(),this.removeStoragePositions(this.inputTradeCoin),this.inputTradeCoin=""}}},{key:"coinExists",value:function(t){for(var e=0;e<this.coins.length;e++)if(this.coins[e]===t)return!0;return!1}},{key:"addPosition",value:function(){var t;null===(t=this.positionContainer)||void 0===t||t.addPosition(0,0,0),this.savePositions(),this.calcAll()}},{key:"savePositions",value:function(){var t;localStorage.setItem(this.currentCoin,JSON.stringify(null===(t=this.positionContainer)||void 0===t?void 0:t.positions))}},{key:"loadPositions",value:function(){var t=this;this.positionContainer.positions.splice(0,this.positionContainer.positions.length);var e=localStorage.getItem(this.currentCoin);null!==e&&JSON.parse(e).forEach((function(e){e._pal=0,t.positionContainer.positions.push(Object.assign(new yt(0,0,0),e))}))}},{key:"removePosition",value:function(t){var e;null===(e=this.positionContainer)||void 0===e||e.removePosition(t),this.savePositions(),this.calcAll()}},{key:"removeStoragePositions",value:function(t){localStorage.removeItem(t)}}]),n}(z["b"]);Ot=Object(R["a"])([Object(z["a"])({components:{Donate:vt}})],Ot);var jt=Ot,gt=function(){function t(){Object(N["a"])(this,t),this._positions=[]}return Object(F["a"])(t,[{key:"addPosition",value:function(t,e,n){this._positions.push(new yt(t,e,n))}},{key:"removePosition",value:function(t){this._positions.splice(t,1)}},{key:"calcPALOfPos",value:function(t){this._positions.forEach((function(e){e.pal=t*e.count-e.cost}))}},{key:"totalCost",get:function(){for(var t=0,e=0;e<this.positions.length;e++){var n=this.positions[e];t+=n.cost}return t}},{key:"totalCount",get:function(){for(var t=0,e=0;e<this.positions.length;e++){var n=this.positions[e];t+=n.count}return t}},{key:"positions",get:function(){return this._positions}}]),t}(),yt=function(){function t(e,n,i){Object(N["a"])(this,t),this._price=e,this._count=n,this._fee=i,this._pal=0}return Object(F["a"])(t,[{key:"price",get:function(){return this._price},set:function(t){this._price=t}},{key:"count",get:function(){return this._count},set:function(t){this._count=t}},{key:"fee",get:function(){return this._fee},set:function(t){this._fee=t}},{key:"pal",get:function(){return this._pal},set:function(t){this._pal=t}},{key:"palText",get:function(){return this._pal.toFixed(4)}},{key:"isPOL",get:function(){return this._pal>=0}},{key:"cost",get:function(){var t=this._price*this._count,e=t*this._fee;return t+e}},{key:"costText",get:function(){return this.cost.toFixed(4)}}]),t}();n("ef1d");const Ct=pt()(jt,[["render",J],["__scopeId","data-v-3d9e438a"]]);var xt=Ct;Object(i["b"])(xt).mount("#app"),document.title="倉位計算機"},ef1d:function(t,e,n){"use strict";n("81db")}});