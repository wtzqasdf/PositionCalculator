(function(t){function e(e){for(var o,a,r=e[0],s=e[1],l=e[2],b=0,f=[];b<r.length;b++)a=r[b],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var s=n[r];0!==c[s]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},c={app:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"01d4":function(t,e,n){"use strict";n("c62e")},9169:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,"h3[data-v-1b91d7b6]{cursor:help}h3[data-v-1b91d7b6]:hover{background-color:#add8e6}.text[data-v-1b91d7b6]{font-size:18px}.font-bold[data-v-1b91d7b6],.text[data-v-1b91d7b6]{font-weight:700}",""]),t.exports=e},a854:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'.donate[data-v-113a3c7a]{bottom:0;width:100%;text-align:center;margin-top:10rem;background-color:#e7e7e7;padding:.3rem 0}.donate-bar[data-v-113a3c7a]{font-weight:700;font-size:16px}.donate-buttons[data-v-113a3c7a]{margin-top:.5rem}.donate-text[data-v-113a3c7a],button[data-v-113a3c7a]{font-weight:700}button[data-v-113a3c7a]{border:none;background-color:#7dff7d;font-size:14px;border-radius:10px;padding:.3rem .5rem;margin:.2rem .2rem;transition-duration:.2s;transition-property:"backgroun-color";transition-timing-function:linear}button[data-v-113a3c7a]:hover{background-color:#06e906}button[data-v-113a3c7a]:active{background-color:#0a0}',""]),t.exports=e},bb09:function(t,e,n){"use strict";n("bf4e")},bf4e:function(t,e,n){var o=n("9169");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var c=n("499e").default;c("7e92b225",o,!0,{sourceMap:!1,shadowMode:!1})},c62e:function(t,e,n){var o=n("a854");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var c=n("499e").default;c("052324ab",o,!0,{sourceMap:!1,shadowMode:!1})},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function c(t,e){var n=Object(o["z"])("router-view");return Object(o["r"])(),Object(o["d"])(n)}var i=n("6b0d"),a=n.n(i);const r={},s=a()(r,[["render",c]]);var l=s,u=n("6c02"),b=function(t){return Object(o["v"])("data-v-1b91d7b6"),t=t(),Object(o["s"])(),t},f={class:"container-fluid mt-4"},d={class:"row justify-content-center"},p={class:"col-xl-2 col-lg-4 col-6"},O={class:"col-xl-2 col-lg-4 col-6"},h={class:"d-grid gap-2"},j={class:"row justify-content-center mt-4"},v={class:"col-xl-2 col-lg-3 col-6 text-center mt-2"},g=b((function(){return Object(o["f"])("h3",{title:"總倉位計算後與現價比較，得知目前的盈虧比"},"盈虧(百分比)",-1)})),y={class:"col-xl-2 col-lg-3 col-6 text-center mt-2"},x=b((function(){return Object(o["f"])("h3",{title:"總倉位計算後與現價比較，得知目前的盈虧金額"},"盈虧",-1)})),m={class:"col-xl-2 col-lg-3 col-6 text-center mt-2"},P=b((function(){return Object(o["f"])("h3",{title:"花了多少金額買進所有倉位"},"總成本",-1)})),k={class:"text"},C={class:"col-xl-2 col-lg-3 col-6 text-center mt-2"},_=b((function(){return Object(o["f"])("h3",{title:"總倉位計算後，如果要一次賣出所有倉位，需要高於這個價格才不會產生虧損(預估會再高於0.5%)"},"平倉目標價",-1)})),S={class:"text"},T={class:"col-xl-2 col-lg-3 col-6 text-center mt-2"},w=b((function(){return Object(o["f"])("h3",{title:"指定交易對的目前價格"},"最新價格",-1)})),D={key:0,class:"text"},B={key:1,class:"text-primary"},U={class:"row mt-2"},E={class:"col-12"},F={class:"table table-striped table-sm table-bordered table-hover table-responsive"},M=b((function(){return Object(o["f"])("thead",{class:"thead-default"},[Object(o["f"])("tr",null,[Object(o["f"])("th",null,"價格"),Object(o["f"])("th",null,"數量"),Object(o["f"])("th",null,"手續費"),Object(o["f"])("th",null,"成本"),Object(o["f"])("th",null,"盈虧"),Object(o["f"])("th",null,"動作")])],-1)})),L=["onUpdate:modelValue"],A=["onUpdate:modelValue"],I=["onUpdate:modelValue"],R=["onClick"],K={class:"d-grid gap-2 mt-2"},V=b((function(){return Object(o["f"])("div",{class:"row mt-2"},[Object(o["f"])("div",{class:"col-12 text-center"},[Object(o["f"])("div",{class:"font-bold text-danger"},"(請注意，本程式僅供用於參考計算，不代表任何交易立場或動作，如產生買賣之虧損情況，皆與本程式無關)"),Object(o["f"])("div",{class:"font-bold"},"(資料來源: Binance)")])],-1)}));function z(t,e,n,c,i,a){var r=Object(o["z"])("Donate");return Object(o["r"])(),Object(o["e"])(o["a"],null,[Object(o["f"])("div",f,[Object(o["f"])("div",d,[Object(o["f"])("div",p,[Object(o["F"])(Object(o["f"])("input",{class:"form-control",type:"text",placeholder:"交易對，BTCUSDT","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.tradeCoin=e})},null,512),[[o["D"],t.tradeCoin]])]),Object(o["f"])("div",O,[Object(o["f"])("div",h,[Object(o["f"])("button",{type:"button",class:Object(o["n"])(["btn btn-success",{disabled:t.isStarted}]),onClick:e[1]||(e[1]=function(e){return t.start()})},"啟動",2)])])]),Object(o["f"])("div",j,[Object(o["f"])("div",v,[g,Object(o["f"])("div",{class:Object(o["n"])(["text",[t.isPOL?"text-success":"text-danger"]])},Object(o["B"])(t.palPercentText),3)]),Object(o["f"])("div",y,[x,Object(o["f"])("div",{class:Object(o["n"])(["text",[t.isPOL?"text-success":"text-danger"]])},Object(o["B"])(t.palPriceText),3)]),Object(o["f"])("div",m,[P,Object(o["f"])("div",k,Object(o["B"])(t.totalCostText),1)]),Object(o["f"])("div",C,[_,Object(o["f"])("div",S,Object(o["B"])(t.sellTargetPrice),1)]),Object(o["f"])("div",T,[w,t.isDataReceived?(Object(o["r"])(),Object(o["e"])("div",D,Object(o["B"])(t.currentPrice),1)):(Object(o["r"])(),Object(o["e"])("div",B,"等待資料中"))])]),Object(o["f"])("div",U,[Object(o["f"])("div",E,[Object(o["f"])("table",F,[M,Object(o["f"])("tbody",null,[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["y"])(t.positionContainer.positions,(function(n,c){return Object(o["r"])(),Object(o["e"])("tr",{key:c},[Object(o["f"])("td",null,[Object(o["F"])(Object(o["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":function(t){return n.price=t},onInput:e[2]||(e[2]=function(e){return t.calcAll()})},null,40,L),[[o["D"],n.price]])]),Object(o["f"])("td",null,[Object(o["F"])(Object(o["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":function(t){return n.count=t},onInput:e[3]||(e[3]=function(e){return t.calcAll()})},null,40,A),[[o["D"],n.count]])]),Object(o["f"])("td",null,[Object(o["F"])(Object(o["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":function(t){return n.fee=t},onInput:e[4]||(e[4]=function(e){return t.calcAll()})},null,40,I),[[o["D"],n.fee]])]),Object(o["f"])("td",null,Object(o["B"])(n.costText),1),Object(o["f"])("td",null,[Object(o["f"])("span",{class:Object(o["n"])(["font-bold",[n.isPOL?"text-success":"text-danger"]])},Object(o["B"])(n.palText),3)]),Object(o["f"])("td",null,[Object(o["f"])("button",{type:"button",class:"btn btn-danger",onClick:function(e){return t.removePosition(c)}},"刪除",8,R)])])})),128))])]),Object(o["f"])("div",K,[Object(o["f"])("button",{type:"button",class:"btn btn-primary btn-sm",onClick:e[5]||(e[5]=function(e){return t.addPosition()})},"新增")])])]),V]),Object(o["h"])(r)],64)}var J=n("d4ec"),W=n("bee2"),N=n("262e"),q=n("2caf"),H=(n("b680"),n("e9c4"),n("d3b7"),n("159b"),n("a434"),n("9ab4")),G=n("a1e9"),Q=n("ce1f"),X=function(t){return Object(o["v"])("data-v-113a3c7a"),t=t(),Object(o["s"])(),t},Y={class:"donate"},Z=X((function(){return Object(o["f"])("div",{class:"donate-bar"},"如果對你很實用的話，可以考慮支持本程式",-1)})),$={class:"donate-buttons"},tt=Object(o["g"])("USDT - TRC20"),et=X((function(){return Object(o["f"])("br",null,null,-1)})),nt=Object(o["g"])("Exchange"),ot=[tt,et,nt],ct=Object(o["g"])("USDT - BEP20"),it=X((function(){return Object(o["f"])("br",null,null,-1)})),at=Object(o["g"])("Exchange"),rt=[ct,it,at],st=Object(o["g"])("BUSD - BEP20"),lt=X((function(){return Object(o["f"])("br",null,null,-1)})),ut=Object(o["g"])("Exchange"),bt=[st,lt,ut],ft={class:"donate-text"};function dt(t,e,n,c,i,a){return Object(o["r"])(),Object(o["e"])("div",Y,[Z,Object(o["f"])("div",$,[Object(o["f"])("button",{onClick:e[0]||(e[0]=function(e){return t.btnUSDT_TRC20()})},ot),Object(o["f"])("button",{onClick:e[1]||(e[1]=function(e){return t.btnUSDT_BEP20()})},rt),Object(o["f"])("button",{onClick:e[2]||(e[2]=function(e){return t.btnBUSD_BEP20()})},bt)]),Object(o["f"])("div",ft,Object(o["B"])(t.hashKey),1)])}var pt=function(t){Object(N["a"])(n,t);var e=Object(q["a"])(n);function n(){var t;return Object(J["a"])(this,n),t=e.apply(this,arguments),t.hashKey=Object(G["l"])(null),t}return Object(W["a"])(n,[{key:"created",value:function(){this.hashKey=""}},{key:"btnUSDT_TRC20",value:function(){this.hashKey="TEa3v8bBz8kRW6arq4LjrEpfywMKpyUPP8"}},{key:"btnUSDT_BEP20",value:function(){this.hashKey="0x293a3c7aeadb14b93b73d7ffd40343b0081cd16a"}},{key:"btnBUSD_BEP20",value:function(){this.hashKey="0x293a3c7aeadb14b93b73d7ffd40343b0081cd16a"}}]),n}(Q["b"]);n("01d4");const Ot=a()(pt,[["render",dt],["__scopeId","data-v-113a3c7a"]]);var ht=Ot,jt=function(t){Object(N["a"])(n,t);var e=Object(q["a"])(n);function n(){var t;return Object(J["a"])(this,n),t=e.apply(this,arguments),t.positionContainer=Object(G["l"])(null),t.isStarted=Object(G["l"])(null),t.isDataReceived=Object(G["l"])(null),t.tradeCoin=Object(G["l"])(null),t.totalCostText=Object(G["l"])(null),t.palPrice=Object(G["l"])(null),t.palPriceText=Object(G["l"])(null),t.palPercentText=Object(G["l"])(null),t.isPOL=Object(G["l"])(null),t.sellTargetPrice=Object(G["l"])(null),t.currentPrice=Object(G["l"])(null),t}return Object(W["a"])(n,[{key:"created",value:function(){this.positionContainer=new gt,this.totalCostText="0",this.palPrice=0,this.palPriceText="0.0000",this.palPercentText="0.00%",this.sellTargetPrice="0",this.tradeCoin="",this.currentPrice=0,this.isPOL=!1,this.isStarted=!1,this.isDataReceived=!0}},{key:"mounted",value:function(){this.loadFromSession()}},{key:"start",value:function(){var t,e=this;this.isStarted||(this.isStarted=!0,this.isDataReceived=!1,this.webSocket=new WebSocket("wss://stream.binance.com:9443/ws/".concat(null===(t=this.tradeCoin)||void 0===t?void 0:t.toLowerCase(),"@trade")),this.webSocket.onmessage=function(t){e.isDataReceived=!0,e.onWSMessage(t)})}},{key:"onWSMessage",value:function(t){this.currentPrice=parseFloat(JSON.parse(t.data).p),this.calcAll()}},{key:"addPosition",value:function(){var t;null===(t=this.positionContainer)||void 0===t||t.addPosition(0,0,0),this.calcAll()}},{key:"removePosition",value:function(t){var e;null===(e=this.positionContainer)||void 0===e||e.removePosition(t),this.calcAll()}},{key:"calcAll",value:function(){var t,e;null===(t=this.positionContainer)||void 0===t||t.calcPALOfPos(this.currentPrice),this.totalCostText=null===(e=this.positionContainer)||void 0===e?void 0:e.totalCost.toFixed(4);var n=this.positionContainer.totalCount*this.currentPrice;n>this.positionContainer.totalCost?this.isPOL=!0:this.isPOL=!1,this.palPrice=n-this.positionContainer.totalCost,this.palPriceText=this.palPrice.toFixed(4),this.palPercentText=(n/this.positionContainer.totalCost-1).toFixed(4)+"%",this.sellTargetPrice=(this.positionContainer.totalCost/this.positionContainer.totalCount*1.005).toFixed(4)+"(+0.5%)",this.saveToSession()}},{key:"saveToSession",value:function(){var t;localStorage.setItem("positions",JSON.stringify(null===(t=this.positionContainer)||void 0===t?void 0:t.positions)),localStorage.setItem("coin",this.tradeCoin)}},{key:"loadFromSession",value:function(){var t=this,e=localStorage.getItem("positions"),n=localStorage.getItem("coin");null!==e&&JSON.parse(e).forEach((function(e){e._pal=0,t.positionContainer.positions.push(Object.assign(new yt(0,0,0),e))})),null!==n&&(this.tradeCoin=n),this.calcAll()}}]),n}(Q["b"]);jt=Object(H["a"])([Object(Q["a"])({components:{Donate:ht}})],jt);var vt=jt,gt=function(){function t(){Object(J["a"])(this,t),this._positions=[]}return Object(W["a"])(t,[{key:"addPosition",value:function(t,e,n){this._positions.push(new yt(t,e,n))}},{key:"removePosition",value:function(t){this._positions.splice(t,1)}},{key:"calcPALOfPos",value:function(t){this._positions.forEach((function(e){e.pal=t*e.count-e.cost}))}},{key:"totalCost",get:function(){for(var t=0,e=0;e<this.positions.length;e++){var n=this.positions[e];t+=n.cost}return t}},{key:"totalCount",get:function(){for(var t=0,e=0;e<this.positions.length;e++){var n=this.positions[e];t+=n.count}return t}},{key:"positions",get:function(){return this._positions}}]),t}(),yt=function(){function t(e,n,o){Object(J["a"])(this,t),this._price=e,this._count=n,this._fee=o,this._pal=0}return Object(W["a"])(t,[{key:"price",get:function(){return this._price},set:function(t){this._price=t}},{key:"count",get:function(){return this._count},set:function(t){this._count=t}},{key:"fee",get:function(){return this._fee},set:function(t){this._fee=t}},{key:"pal",get:function(){return this._pal},set:function(t){this._pal=t}},{key:"palText",get:function(){return this._pal.toFixed(4)}},{key:"isPOL",get:function(){return this._pal>=0}},{key:"cost",get:function(){var t=this._price*this._count,e=t*this._fee;return t+e}},{key:"costText",get:function(){return this.cost.toFixed(4)}}]),t}();n("bb09");const xt=a()(vt,[["render",z],["__scopeId","data-v-1b91d7b6"]]);var mt=xt,Pt=[{path:"/",name:"Home",component:mt}],kt=Object(u["a"])({history:Object(u["b"])("dist/"),routes:Pt}),Ct=kt;Object(o["c"])(l).use(Ct).mount("#app"),document.title="倉位計算機"}});